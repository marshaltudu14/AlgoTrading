---
id: story-template-v2
name: Story Document
version: 2.0
---

# Story 2.1: Base Agent Interface

## Status
Draft

## Story
**As an** RL engineer,
**I want** a common interface for all RL agents,
**so that** I can ensure consistency and interchangeability between different agent implementations.

## Acceptance Criteria
1. `src/agents/base_agent.py` defines an abstract base class (e.g., `BaseAgent`) with abstract methods for `select_action(observation)`, `learn(experience)`, and `save_model(path)`.
2. The `select_action` method takes an observation (normalized state) and returns a discrete action.
3. The `learn` method takes an experience tuple (e.g., `(state, action, reward, next_state, done)`) and updates the agent's policy.
4. The `save_model` method saves the agent's learned policy to a specified path.

## Tasks / Subtasks
- [x] Task 1 (AC: 1, 2, 3, 4): Implement the `BaseAgent` abstract base class.
    - [x] Subtask 1.1: Create the file `src/agents/base_agent.py`.
    - [x] Subtask 1.2: Define the `BaseAgent` class, inheriting from `abc.ABC`.
    - [x] Subtask 1.3: Define the abstract methods `select_action`, `learn`, and `save_model` using the `@abc.abstractmethod` decorator. [Source: `docs/architecture/rl-model-architecture-detailed.md#1-srcagentsbase_agentpy---base-agent-interface`]
- [x] Task 2: Write unit tests for the `BaseAgent` interface.
    - [x] Subtask 2.1: Create a test file `tests/test_agents.py`.
    - [x] Subtask 2.2: Write a test case to ensure that a concrete class inheriting from `BaseAgent` must implement all abstract methods.

## Dev Notes
- **File Location**: `src/agents/base_agent.py` [Source: `docs/architecture/source-tree.md#6-source-directory-src`]
- **Class**: `BaseAgent`
- **Responsibilities**: This class defines the contract that all RL agents in the system must follow. It is not meant to be instantiated directly. [Source: `docs/architecture/rl-model-architecture-detailed.md#1-srcagentsbase_agentpy---base-agent-interface`]

### Testing
- Unit tests should be created in a new file `tests/test_agents.py`. [Source: `docs/architecture/source-tree.md#1-top-level-directories`]
- The test should focus on the abstract nature of the class.

## QA Results
