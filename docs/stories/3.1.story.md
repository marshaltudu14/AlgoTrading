---
id: story-template-v2
name: Story Document
version: 2.0
---

# Story 3.1: Specialized Trading Agents

## Status
Ready for Review

## Story
**As an** RL engineer,
**I want** to implement specialized trading agents (e.g., Trend Following, Mean Reversion, Volatility, Consolidation),
**so that** the MoE framework can leverage diverse strategies tailored to specific market conditions.

## Acceptance Criteria
1. `src/agents/trend_agent.py`, `src/agents/mean_reversion_agent.py`, `src/agents/volatility_agent.py`, and `src/agents/consolidation_agent.py` are created.
2. Each specialized agent class inherits from `BaseAgent` (from Story 2.1).
3. Each specialized agent utilizes an `LSTMModel` (or other appropriate `src/models` architecture) for its policy and value networks.
4. Each agent's `learn` method is designed to be trainable on specific market conditions (though the actual specialized training data filtering will be handled by the `Trainer` in a later story).
5. Each agent's `select_action` method outputs the same discrete trading actions (`BUY_LONG`, `SELL_SHORT`, `CLOSE_LONG`, `CLOSE_SHORT`, `HOLD`).

## Tasks / Subtasks
- [x] Task 1 (AC: 1, 2, 3, 5): Create the specialized agent classes.
    - [x] Subtask 1.1: Create the files `src/agents/trend_agent.py`, `src/agents/mean_reversion_agent.py`, `src/agents/volatility_agent.py`, and `src/agents/consolidation_agent.py`.
    - [x] Subtask 1.2: In each file, define a class (e.g., `TrendAgent`) that inherits from `BaseAgent`.
    - [x] Subtask 1.3: Implement the `__init__` method for each agent to initialize an `LSTMModel`.
    - [x] Subtask 1.4: Implement the `select_action` method for each agent.
- [x] Task 2 (AC: 4): Implement the `learn` method for each specialized agent.
    - [x] Subtask 2.1: Implement a placeholder `learn` method for each agent. The actual training logic will be refined in a later story.
- [x] Task 3: Write unit tests for the specialized agents.
    - [x] Subtask 3.1: Add test cases to `tests/test_agents.py`.
    - [x] Subtask 3.2: For each specialized agent, write a test case to verify that it can be initialized and that `select_action` returns a valid action.

### Dev Agent Record
#### Agent Model Used
Gemini
#### Debug Log References
- Created `src/agents/trend_agent.py`, `src/agents/mean_reversion_agent.py`, `src/agents/volatility_agent.py`, and `src/agents/consolidation_agent.py`.
- Added unit tests for specialized agents in `tests/test_agents.py`.
#### Completion Notes List
- Implemented basic structure for all specialized agents, inheriting from `BaseAgent` and using `LSTMModel`.
- Added placeholder `learn` methods.
- All tests passed.
#### File List
- `src/agents/trend_agent.py`
- `src/agents/mean_reversion_agent.py`
- `src/agents/volatility_agent.py`
- `src/agents/consolidation_agent.py`
- `tests/test_agents.py`
