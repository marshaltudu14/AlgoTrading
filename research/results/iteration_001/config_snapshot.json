{
  "training_sequence": {
    "stage_1_hrm": {
      "episodes": 100
    }
  },
  "environment": {
    "initial_capital": 100000.0,
    "lookback_window": 50,
    "episode_length": 500,
    "use_streaming": false,
    "reward_function": "enhanced_trading_focused",
    "trailing_stop_percentage": 0.015,
    "smart_action_filtering": true
  },
  "model": {
    "hidden_dim": 256,
    "action_dim_discrete": 5,
    "action_dim_continuous": 1,
    "model_path": "models/universal_final_model.pth",
    "model_type": "hrm"
  },
  "hierarchical_reasoning_model": {
    "h_module": {
      "hidden_dim": 512,
      "num_layers": 4,
      "n_heads": 8,
      "ff_dim": 2048,
      "dropout": 0.1
    },
    "l_module": {
      "hidden_dim": 256,
      "num_layers": 3,
      "n_heads": 8,
      "ff_dim": 1024,
      "dropout": 0.1
    },
    "input_embedding": {
      "embedding_dim": 512,
      "dropout": 0.1
    },
    "hierarchical": {
      "N_cycles": 3,
      "T_timesteps": 5,
      "convergence_threshold": "1e-6",
      "max_convergence_steps": 100,
      "reset_factor": 0.3,
      "reset_noise_scale": 0.1
    },
    "embeddings": {
      "instrument_dim": 64,
      "timeframe_dim": 32,
      "max_instruments": 1000,
      "max_timeframes": 10
    },
    "output_heads": {
      "action_dim": 5,
      "quantity_min": 1.0,
      "quantity_max": 100000.0,
      "value_estimation": true,
      "q_learning_enabled": true
    },
    "architecture": {
      "rms_norm_eps": "1e-8",
      "rope_max_seq_len": 2048,
      "rope_base_freq": 10000,
      "transformer_mask_value": "-1e9",
      "truncated_normal_std": 1.0,
      "truncated_normal_limit": 2.0
    },
    "training": {
      "M_max": 8,
      "M_min": 2,
      "gradient_convergence_threshold": "1e-6",
      "neumann_series_terms": 3,
      "improvement_threshold": 0.001,
      "log_frequency": 10
    },
    "act": {
      "enabled": true,
      "M_max": 16,
      "M_min_range": [
        1,
        8
      ],
      "epsilon": 0.3,
      "gamma": 0.99,
      "q_learning_lr": 0.001,
      "target_update_freq": 100,
      "history_maxlen": 1000,
      "prediction_tolerance": 0.05,
      "max_scaling_factor": 4.0,
      "difficulty_scaling_factor": 2.0
    },
    "brain_validation": {
      "min_samples_for_pr": 10,
      "eigenvalue_threshold": "1e-12",
      "expected_hierarchy_ratio_min": 2.25,
      "expected_hierarchy_ratio_max": 3.0,
      "hierarchy_midpoint": 2.625,
      "residual_spike_threshold_factor": 2.0,
      "stability_variance_factor": 0.5,
      "convergence_rate_normalization": 10.0
    },
    "diagnostics": {
      "comprehensive_analysis_samples": 100,
      "pca_components": 3,
      "convergence_health_weight": 0.5
    }
  },
  "risk_management": {
    "risk_multiplier": 1.5,
    "reward_multiplier": 3.0,
    "use_atr_based_stops": true,
    "max_risk_per_trade": 0.015,
    "stop_loss_percentage": 0.015,
    "target_profit_percentage": 0.045,
    "win_rate_bonus_threshold": 0.6,
    "profit_factor_bonus_threshold": 1.5
  },
  "trading": {
    "brokerage_entry": 25,
    "brokerage_exit": 35
  },
  "training_params": null,
  "progression_rules": {
    "auto_progression": false,
    "completion_criteria": {
      "min_episodes": 300,
      "min_win_rate": 0.35,
      "min_profit_factor": 0.8
    },
    "fallback_strategies": {
      "extend_training": true,
      "max_extension_episodes": 200,
      "hyperparameter_tuning": true
    }
  },
  "monitoring": {
    "save_checkpoints": true,
    "checkpoint_frequency": 50,
    "generate_reports": true,
    "compare_stages": true
  },
  "model_management": {
    "save_stage_models": true,
    "model_naming_convention": "{symbol}_{stage}_{algorithm}_{timestamp}",
    "keep_best_models": true,
    "transfer_learning": true
  },
  "testing_overrides": {
    "training_sequence": {
      "stage_1_hrm": {
        "episodes": 5,
        "description": "Testing HRM integration"
      }
    },
    "training_params": null,
    "progression_rules": {
      "completion_criteria": {
        "min_episodes": 3,
        "min_win_rate": 0.1,
        "min_profit_factor": 0.1
      },
      "fallback_strategies": {
        "max_extension_episodes": 20
      }
    },
    "test_data": {
      "num_rows": 500,
      "symbols": [
        "RELIANCE_1",
        "Bank_Nifty_5"
      ],
      "save_models": false
    }
  },
  "feature_generation": {
    "sma_periods": [
      5,
      10,
      20,
      50,
      100,
      200
    ],
    "ema_periods": [
      5,
      10,
      20,
      50,
      100,
      200
    ],
    "rsi_periods": [
      14,
      21
    ],
    "macd_fast": 12,
    "macd_slow": 26,
    "macd_signal": 9,
    "bb_period": 20,
    "bb_std_dev": 2.0,
    "atr_period": 14,
    "stoch_k_period": 14,
    "stoch_d_period": 3,
    "williams_r_period": 14,
    "cci_period": 20,
    "adx_period": 14,
    "momentum_period": 10,
    "roc_period": 10,
    "trix_period": 14,
    "volatility_periods": [
      10,
      20
    ]
  },
  "paths": {
    "raw_data_dir": "data/raw",
    "final_data_dir": "data/final",
    "processed_data_dir": "data/processed",
    "test_data_dir": "data/test",
    "fallback_data_path": "data/fallback_market_data.csv",
    "fallback_backtest_results_path": "data/fallback_backtest_results.json",
    "reports_dir": "reports",
    "logs_dir": "logs",
    "temp_dir": "temp"
  },
  "data_processing": {
    "input_folder": "data/raw",
    "output_folder": "data/final",
    "file_pattern": "*.csv",
    "file_patterns": {
      "raw_data": "{symbol}.csv",
      "features": "features_{symbol}.csv",
      "features_with_timeframe": "features_{symbol}_{timeframe}.csv",
      "processed": "processed_{symbol}.csv",
      "final": "final_{symbol}.csv"
    },
    "remove_volume_column": true,
    "timezone": "Asia/Kolkata",
    "round_decimals": 2,
    "required_columns": [
      "datetime",
      "open",
      "high",
      "low",
      "close"
    ],
    "validate_ohlc": true,
    "remove_duplicates": true,
    "drop_nan_rows": true
  },
  "research": {
    "results_dir": "research/results",
    "iteration_prefix": "iteration_",
    "create_new_iteration_on": [
      "config_change",
      "feature_count_change",
      "architecture_change"
    ],
    "save_artifacts": [
      "config_snapshot",
      "detailed_logs",
      "model_weights",
      "training_metrics",
      "feature_info"
    ]
  },
  "logging": {
    "console_mode": "minimal",
    "minimal_format": "{step} | {datetime} | {instrument} | {action} | WR: {win_rate}% | {initial_capital} -> {current_capital} | P&L: {pnl} | Entry: {entry_price} | SL: {sl_price} | Target: {target_price}",
    "detailed_format": "%(asctime)s - %(levelname)s - %(message)s",
    "progress_bar": {
      "enabled": true,
      "update_frequency": 10,
      "show_metrics": [
        "win_rate",
        "current_capital",
        "total_pnl"
      ]
    },
    "log_to_file": true,
    "iteration_log_file": "training_detailed.log",
    "level": "INFO"
  },
  "performance": {
    "batch_size": 10000,
    "parallel_processing": false,
    "memory_optimization": true
  },
  "validation": {
    "feature_correlation_check": false,
    "max_correlation_threshold": 0.95
  },
  "live_trading": {
    "autonomous_agent_path_template": "models/autonomous_agents/{symbol}_autonomous_final.pth",
    "supervised_model_path": "models/supervised_model.joblib",
    "scaler_path": "models/scaler.joblib",
    "label_encoder_path": "models/label_encoder.joblib",
    "hf_tokenizer_path": "models/hf_tokenizer",
    "hf_model_path": "models/hf_model"
  }
}